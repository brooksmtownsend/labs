<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.55.5" />
    <meta name="description" content="">


    <link rel="icon" href="/labs/images/favicon.png" type="image/png">

    <title>Deploying a NodeJS App :: Critical Stack Labs</title>

    
    <link href="/labs/css/nucleus.css?1558363468" rel="stylesheet">
    <link href="/labs/css/fontawesome-all.min.css?1558363468" rel="stylesheet">
    <link href="/labs/css/hybrid.css?1558363468" rel="stylesheet">
    <link href="/labs/css/featherlight.min.css?1558363468" rel="stylesheet">
    <link href="/labs/css/perfect-scrollbar.min.css?1558363468" rel="stylesheet">
    <link href="/labs/css/auto-complete.css?1558363468" rel="stylesheet">
    <link href="/labs/css/atom-one-dark-reasonable.css?1558363468" rel="stylesheet">
    <link href="/labs/css/theme.css?1558363468" rel="stylesheet">
    <link href="/labs/css/hugo-theme.css?1558363468" rel="stylesheet">
    
      <link href="/labs/css/theme-cs.css?1558363468" rel="stylesheet">
    

    <script src="/labs/js/jquery-3.3.1.min.js?1558363468"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/labs/featurelabs/node/deploystateless/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://criticalstack.github.io/labs/">
    <svg id="Layer_1" data-name="Layer 1"
    style="width:100%; height:100%;" viewBox="0 0 304 150" 
    xmlns="http://www.w3.org/2000/svg" ><defs><style>.cls-1{fill:#5178bc;}.cls-2,.cls-3{fill:#fff;}.cls-3{opacity:0.3;}.cls-4{fill:#a7a8a9;}</style></defs><title>Artboard 1</title><path class="cls-1" d="M179.53,82.74,146.07,69.46a6.47,6.47,0,0,0-4.78,0L107.83,82.74a6.47,6.47,0,0,0-4.09,6v40.48a6.48,6.48,0,0,0,4.09,6l33.46,13.28a6.47,6.47,0,0,0,4.78,0l33.46-13.28a6.48,6.48,0,0,0,4.09-6V88.76A6.47,6.47,0,0,0,179.53,82.74ZM172,108.19a2.15,2.15,0,0,1-1.36,2l-26.19,10.4a2.18,2.18,0,0,1-1.59,0l-26.2-10.4a2.15,2.15,0,0,1-1.36-2V93a2.16,2.16,0,0,1,1.36-2l26.2-10.39a2.09,2.09,0,0,1,1.59,0l18.08,7.17a.19.19,0,0,1,0,.35l-11.12,4.41a2.16,2.16,0,0,1-1.58,0l-5.38-2.14a2.18,2.18,0,0,0-1.59,0l-12.54,5a2.14,2.14,0,0,0-1.36,2v6.49a2.16,2.16,0,0,0,1.36,2l12.54,5a2.09,2.09,0,0,0,1.59,0l12.53-5a2.16,2.16,0,0,0,1.36-2v-2.1a2.14,2.14,0,0,1,1.35-2l12-4.76a.24.24,0,0,1,.32.22Z"/><path class="cls-2" d="M171.71,95l-12,4.76a2.14,2.14,0,0,0-1.35,2v2.1a2.16,2.16,0,0,1-1.36,2l-12.53,5a2.09,2.09,0,0,1-1.59,0l-12.54-5a2.16,2.16,0,0,1-1.36-2V97.33a2.14,2.14,0,0,1,1.36-2l12.54-5a2.18,2.18,0,0,1,1.59,0l5.38,2.14a2.16,2.16,0,0,0,1.58,0l11.12-4.41a.19.19,0,0,0,0-.35l-18.08-7.17a2.09,2.09,0,0,0-1.59,0L116.69,91a2.16,2.16,0,0,0-1.36,2v15.24a2.15,2.15,0,0,0,1.36,2l26.2,10.4a2.18,2.18,0,0,0,1.59,0l26.19-10.4a2.15,2.15,0,0,0,1.36-2v-13A.24.24,0,0,0,171.71,95Z"/><path class="cls-3" d="M170.68,122.06l-26.21,10.4a2.16,2.16,0,0,1-1.58,0l-26.21-10.4c-1.35-.51-1.35-.51-1.35,0v3a2.14,2.14,0,0,0,1.35,2l26.21,10.4a2.16,2.16,0,0,0,1.58,0l26.21-10.4a2.14,2.14,0,0,0,1.35-2v-3C172,121.52,172,121.53,170.68,122.06Z"/><path class="cls-3" d="M170.68,113.64,144.47,124a2.06,2.06,0,0,1-1.58,0l-26.21-10.4c-1.35-.5-1.35-.5-1.35,0v3a2.14,2.14,0,0,0,1.35,2L142.89,129a2.16,2.16,0,0,0,1.58,0l26.21-10.4a2.14,2.14,0,0,0,1.35-2v-3C172,113.11,172,113.12,170.68,113.64Z"/><path class="cls-4" d="M183.11,73.16A.14.14,0,0,1,183,73V70.26l-1.23,2.82s-.13.08-.19.08-.19,0-.21-.08l-1.25-2.82V73a.13.13,0,0,1-.14.13h-.34a.14.14,0,0,1-.15-.13V69.14a.14.14,0,0,1,.15-.14h.52a.16.16,0,0,1,.14.09l1.28,3,1.28-3A.14.14,0,0,1,183,69h.53a.14.14,0,0,1,.14.14V73a.13.13,0,0,1-.14.13Zm-6.05,0a.14.14,0,0,1-.15-.13V69.57h-1.14a.15.15,0,0,1-.15-.14v-.29a.15.15,0,0,1,.15-.14h2.93a.15.15,0,0,1,.15.14v.29a.15.15,0,0,1-.15.14h-1.13V73a.13.13,0,0,1-.14.13Z"/></svg>
</a>
<div style="color:#fff; font-size: medium;"><b>LABS</b></div>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/labs/js/lunr.min.js?1558363468"></script>
<script type="text/javascript" src="/labs/js/auto-complete.js?1558363468"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/criticalstack.github.io\/labs\/";
    
</script>
<script type="text/javascript" src="/labs/js/search.js?1558363468"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/labs/faqs/" title="FAQ" class="dd-item 
        
        
        
        ">
      <a href="/labs/faqs/">
          <i class='fas fa-question-circle'></i> FAQ
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/labs/install/" title="Installation" class="dd-item 
        
        
        
        ">
      <a href="/labs/install/">
          <i class='fas fa-download'></i> Installation
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/labs/install/awsaccount/" title="AWS Account Setup" class="dd-item 
        
        
        
        ">
      <a href="/labs/install/awsaccount/">
          <i class='fas fa-user-circle'></i> AWS Account Setup
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/labs/install/aws_basic_cluster/" title="AWS Basic Cluster" class="dd-item 
        
        
        
        ">
      <a href="/labs/install/aws_basic_cluster/">
          <i class='fas fa-server'></i> AWS Basic Cluster
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/labs/featurelabs/" title="Feature Labs" class="dd-item 
        parent
        
        
        ">
      <a href="/labs/featurelabs/">
          <i class='fas fa-star'></i> Feature Labs
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/labs/featurelabs/node/" title="NodeJS Labs" class="dd-item 
        parent
        
        
        ">
      <a href="/labs/featurelabs/node/">
          <i class='fab fa-node'></i> NodeJS Labs
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/labs/featurelabs/node/deploystateless/" title="Deploying a NodeJS App" class="dd-item active">
        <a href="/labs/featurelabs/node/deploystateless/">
        <i class='fab fa-node'></i> Deploying a NodeJS App
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/labs/featurelabs/node/updating/" title="Updating a NodeJS App" class="dd-item ">
        <a href="/labs/featurelabs/node/updating/">
        <i class='fab fa-node'></i> Updating a NodeJS App
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/labs/featurelabs/go/" title="Go Labs" class="dd-item 
        
        
        
        ">
      <a href="/labs/featurelabs/go/">
          <i class='fas fa-flask'></i> Go Labs
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/labs/featurelabs/go/hello/" title="Deploying a Go App" class="dd-item ">
        <a href="/labs/featurelabs/go/hello/">
        <i class='fas fa-flask'></i> Deploying a Go App
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/labs/featurelabs/go/hello_rest/" title="Deploying a Stateless RESTful Go App" class="dd-item ">
        <a href="/labs/featurelabs/go/hello_rest/">
        <i class='fas fa-flask'></i> Deploying a Stateless RESTful Go App
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/labs/administration/" title="Administration" class="dd-item 
        
        
        
        ">
      <a href="/labs/administration/">
          <i class='fas fa-toolbox'></i> Administration
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/labs/administration/ssh_master_node/" title="SSH to Master Nodes via Bastion Host" class="dd-item ">
        <a href="/labs/administration/ssh_master_node/">
        <i class='fas fa-toolbox'></i> &nbsp;SSH to Master Nodes via Bastion Host
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/labs/administration/helm_support/" title="Helm Support for Critical Stack" class="dd-item ">
        <a href="/labs/administration/helm_support/">
        <i class='fas fa-toolbox'></i> &nbsp;Helm Support for Critical Stack
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/labs/administration/kubectl101/" title="Kubectl 101" class="dd-item ">
        <a href="/labs/administration/kubectl101/">
        <i class='fas fa-toolbox'></i> &nbsp;Kubectl 101
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/labs/'></a> > <a href='/labs/featurelabs/'>Feature Labs</a> > <a href='/labs/featurelabs/node/'>NodeJS Labs</a> > Deploying a NodeJS App
          
         
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#deploying-a-stateless-nodejs-app-in-critical-stack">Deploying a Stateless NodeJS App in Critical Stack</a>
<ul>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#overview">Overview</a></li>
<li><a href="#steps">Steps</a>
<ul>
<li><a href="#building">Building</a></li>
<li><a href="#deploying">Deploying</a></li>
</ul></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Deploying a NodeJS App
            </h1>
          

        





<h2 id="deploying-a-stateless-nodejs-app-in-critical-stack">Deploying a Stateless NodeJS App in Critical Stack</h2>

<p>This lab will walk you through the process of deploying a stateless NodeJS application to Critical Stack.</p>

<h3 id="getting-started">Getting Started</h3>

<p>Before we get started, you&rsquo;ll need:</p>

<ol>
<li>Node JS (and npm) installed : <a href="https://nodejs.org/en/download/">Node.JS</a></li>
<li>Docker installed : <a href="https://www.docker.com/get-started">Docker</a></li>
<li>Access to a public container registry (Docker Hub is easiest, Artifactory works too) : <a href="https://hub.docker.com">Docker Hub</a></li>
</ol>

<h3 id="overview">Overview</h3>

<p>In this lab we will create a simple NodeJS application, deploy it via Critical Stack. and access it via a public URL.</p>

<h3 id="steps">Steps</h3>

<h4 id="building">Building</h4>

<ol>
<li><p>Open a terminal window.  In your current working directory (in the example below we use the <strong>Development</strong> directory under the user&rsquo;s home directory) create a directory for this lab called <strong>node-lab</strong> and a subdirectory of that called <strong>app</strong>:</p>

<pre><code class="language-terminal">user@testhost Development$ mkdir -p node-lab/app
user@testhost Development$ cd node-lab
user@testhost node-lab$ ls
app
</code></pre>

<ol>
<li><p>Using the editor of your choice, create a file called <strong>index.js</strong> inside the <strong>app</strong> directory (resulting in <strong>app/index.js</strong>) with
the following content:</p>

<pre><code>// Say hello from Node
var http = require('http');

http.createServer(function (req, res) {
res.writeHead(200, {'Content-Type': 'text/plain'});
res.end('Hello from Node!\n');
}).listen(3000, &quot;0.0.0.0&quot;);
console.log('Server running on :3000');
</code></pre></li>

<li><p>Generate the app configuration with <em>npm</em> in the root of your <strong>node-lab</strong> directory.</p></li>
</ol>

<p>Accept all defaults except <em>package name</em>, which should be something like <strong>hello-node</strong>, version number (this is definitely a <code>0.0.1</code> release!), and <strong>entry point</strong>, as that will be <strong>app/index.js</strong></p>

<pre><code class="language-terminal">user@testhost node-lab$ npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help json` for definitive documentation on these fields
and exactly what they do.

Use `npm install &lt;pkg&gt;` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quite.
package name: (user) hello-node
version: (1.0.0) 0.0.1
description:
entry point: (index.js) app/index.js
test command:
git repository:
keywords:
author:
license: (ISC)
About to write to /Users/user/Development/node-lab/package.json:
</code></pre></li>

<li><p><code>npm</code> makes it easy for JavaScript developers to share and re-use code.  Install the dependencies for this lab by running this command:</p>

<pre><code class="language-terminal">user@testhost node-lab$ npm install
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN hello-node@0.0.1 No description
npm WARN hello-node@0.0.1 No repository field.

up to date in 10.179s
found 0 vulnerabilities
</code></pre>

<ol>
<li><p>Create a <strong>Dockerfile</strong> to target <em>node</em> and copy the necessary files into the docker image (<em>Note to instructor</em>: explain the <strong>base image</strong> from which this image is derived). The port you choose to expose should be the same as the port on which your application server listens. Your <em>Dockerfile</em> should be in the root of your <strong>node-lab</strong> directory and have the following content:</p>

<pre><code>FROM node:9

# Make base directory
RUN mkdir /src

WORKDIR /src

COPY ./package.json /src/package.json
COPY ./package-lock.json /src/package-lock.json
RUN npm install --silent

COPY ./app /src/app

EXPOSE 3000

CMD [&quot;node&quot;, &quot;app/index.js&quot;]
</code></pre></li>

<li><p>Build a Docker image using the <em>Dockerfile</em> with the tag <strong>hello-node</strong>:</p></li>
</ol>

<pre><code class="language-terminal">user@testhost node-lab$ docker build -t hello-node -f Dockerfile .
Sending build context to Docker daemon  71.68kB
Step 1/8 : FROM node:9
---&gt; 08a8c8089ab1
Step 2/8 : RUN mkdir /src
...
</code></pre>

<p>If you want to test this out locally before deploying it, you can use docker to launch the process in the container image to verify that it behaves as expected:</p>

<pre><code class="language-terminal">user@testhost node-lab$ docker run -p 3000:3000 --rm -ti hello-node
Server running on :3000
</code></pre>

<p>Once this is running, you can check that the application works by using <em>curl</em> in a new terminal window:</p>

<pre><code class="language-terminal">user@testhost ~$ curl http://localhost:3000/
Hello from Node!
</code></pre>

<p>Note: to stop the running container run this command from the new terminal window (this uses <strong>-f</strong> to find the container created from your <strong>hello-node</strong> image):</p>

<pre><code class="language-terminal">user@testhost ~$ docker stop $(docker ps -qf &quot;ancestor=hello-node&quot;)
42c18d268c56
</code></pre>

<p>You should see the container exit and your shell prompt return in your original terminal window.</p>

<ol>
<li>Login to your public container registry (in this example we use <em><strong>Docker Hub</strong></em>). Note your user name as you will use this later.
<br /></li>
</ol>

<pre><code class="language-terminal">user@testhost node-lab$ docker login
Login with your Docker ID to push and pull images from Docker Hub. If you don't
have a Docker ID, head over to https://hub.docker.com to create one.
Username: &lt;your username here&gt; 
Password:
Login Succeeded
</code></pre></li>

<li><p>Add the <em><strong>tag</strong></em> to be used in the public container registry (Note to instructor: Advise on tag naming convention)</p>

<pre><code class="language-terminal">user@testhost node-lab$ docker tag hello-node &lt;your-user-name&gt;/hello-node:0.0.1
</code></pre>

<ol>
<li>Push the tagged image into a public container registry
<br /></li>
</ol>

<pre><code class="language-terminal">user@testhost node-lab$ docker tag hello-node &lt;your-user-name&gt;/hello-node:0.0.1
The push refers to repository [docker.io/&lt;your-user-name&gt;/hello-node]
99599c00434b: Pushed
2c18bd33cb20: Pushed
41b63aaeffc4: Pushed
df64ff0ed93f: Pushed
71521673e105: Mounted from library/node
7695686f75c0: Mounted from library/node
e492023cc4f9: Mounted from library/node
cbda574aa37a: Mounted from library/node
8451f9fe0016: Mounted from library/node
858cd8541f7e: Mounted from library/node
a42d312a03bb: Mounted from library/node
dd1eb1fd7e08: Mounted from library/node
0.0.1: digest: sha256:e755e97b58a700207b2a9ba0deaa26927210b84f8d79618d1c4cd8f498b97373 size: 2834
</code></pre>

<p>Your image digest and layer hashes will differ.</p></li>
</ol>

<h4 id="deploying">Deploying</h4>

<ol>
<li><p>Login to Critical Stack.  Under <em><strong>Data Center &gt; Workloads</strong></em> select <em><strong>Deployments</strong></em>. Create a <em><strong>Simple</strong></em> Deployment in Critical Stack. Call the app name whatever you like (in this example I used <code>my-first-deployment</code>). Next, point to the tagged Docker image recently pushed into the image registry (<code>docker.io/&lt;your-user-name&gt;/hello-node:0.0.1</code>). Leave the rest of the inputs at their defaults:</p>

<p><img src="../../../images/featurelabs/node/simple_deployment.png" alt="Simple deployment" title="Simple deployment" /></p></li>

<li><p>Under <em><strong>Data Center &gt; Workloads</strong></em> select <em><strong>Deployments</strong></em> and confirm that the deployment created in the previous step is <em><strong>Available</strong></em> (a non-zero number is visible in the <em><strong>Available</strong></em> column).</p>

<p><img src="../../../images/featurelabs/node/available.png" alt="Available" title="Available" /></p></li>

<li><p>Under <em><strong>Data Center &gt; Services and Discovery</strong></em> select <em><strong>Services</strong></em>.  Create a <em><strong>Simple Service</strong></em> in Critical Stack.</p>

<ol>
<li>Call the service name whatever you like (in this example I used <code>my-first-deployment-svc</code>).</li>
<li>Match the <em><strong>Selector name</strong></em> to the app/pod name which was deployed in the previous step.</li>
<li>Select <em><strong>Load Balancer</strong></em> as the option for <em><strong>Mode</strong></em></li>
<li>Call the <em><strong>listener name</strong></em> whatever you like but something unique relative to the service name (in this example I used <code>my-first-deployment-listener</code>).</li>
<li>Select <em><strong>TCP</strong></em> as the protocol</li>
<li>Under the <em><strong>Port</strong></em> field, enter the desired port which will be used by the <em><strong>Load Balancer</strong></em> connecting the app to the &ldquo;live&rdquo; public internet (typically port <code>80</code>).</li>
<li>Under the <em><strong>Target Port</strong></em> field, enter the port number supported by your app and exposed in your <em><strong>Dockerfile</strong></em> (in this example, port <code>3000</code>)</li>
</ol>

<p><img src="../../../images/featurelabs/node//create_service.png" alt="Create service" title="Create service" /></p></li>

<li><p>Under <em><strong>Data Center &gt; Services and Discovery</strong></em> select <em><strong>Services</strong></em>, check the service listing and note the dynamic port which was assigned to it.  In this example it is port <em><strong>32151</strong></em> (but your port number will likely be different).</p>

<p><img src="../../../images/featurelabs/node/get_dynamic_port.png" alt="Get dynamic port" title="Get dynamic port" /></p></li>

<li><p>Under <em><strong>Data Center &gt; Services and Discovery</strong></em> select <em><strong>Endpoints</strong></em>, confirm that the service created has the just created listener configured to the port supported by the app and exposed in the <em><strong>Dockerfile</strong></em> (in this example, port <em><strong>3000</strong></em>).</p>

<p><img src="../../../images/featurelabs/node/confirm_endpoint_configuration.png" alt="Confirm Endpoint configuration" title="Confirm Endpoint configuration" /></p></li>

<li><p>Log into the cloud provider console associated with this deployment of Critical Stack (note: we are running our Critical Stack cluster on AWS EC2. The following steps will be AWS-specific).</p></li>

<li><p>Navigate to the <em><strong>Load Balancers</strong></em> section:</p>

<p><img src="../../../images/featurelabs/node/load_balancers_section.png" alt="Load Balancers section" title="Load Balancers section" /></p></li>

<li><p>Find the Load Balancer created by Critical Stack/Kubernetes during the creation of the Service in step 12. To quickly find the relevant load balancer, enter <code>kubernetes.io/service-name</code> as the <em><strong>Tag Key</strong></em> in the Filter text box.</p>

<p>For the <em><strong>Tag Value</strong></em>, enter in the name of the service created in the previous step. In this example, our service name is <code>critical-stack/my-first-deployment-svc</code>.</p>

<p><img src="../../../images/featurelabs/node/find_load_balancer.png" alt="Find Load Balancer" title="FInd Load Balancer" /></p></li>

<li><p>Click the Load Balancer found in the previous step. At the bottom of the screen you should see a tab called <em><strong>Description</strong></em>. Within the data displayed under that tab you should see <em><strong>DNS name</strong></em> under the <em><strong>Basic</strong></em> section. Copy this DNS value as it is the auto-generated, publicly facing domain name.</p>

<p><img src="../../../images/featurelabs/node/find_public_URL.png" alt="Find public URL" title="Find public URL" /></p></li>

<li><p>Paste the DNS value copied from the previous step into a browser. This confirms that the app we have deployed onto our Critical Stack cluster is fully live and available to the public internet.</p>

<p><img src="../../../images/featurelabs/node/go_to_public_URL.png" alt="Go to public URL" title="Go to public URL" /></p></li>
</ol>

<h3 id="conclusion">Conclusion</h3>

<p>We created a simple NodeJS application, packaged the application in a Docker image, pushed the Docker image to a public Docker Hub repository, pulled that Docker image into a Critical Stack deployment as a container instance, and accessed the application via a public URL.</p>

<p>To learn the basics of managing the lifecycle of an application, see the <a href="../updating">next lab</a>.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/labs/featurelabs/node/" title="NodeJS Labs"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/labs/featurelabs/node/updating/" title="Updating a NodeJS App" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/labs/js/clipboard.min.js?1558363468"></script>
    <script src="/labs/js/perfect-scrollbar.min.js?1558363468"></script>
    <script src="/labs/js/perfect-scrollbar.jquery.min.js?1558363468"></script>
    <script src="/labs/js/jquery.sticky.js?1558363468"></script>
    <script src="/labs/js/featherlight.min.js?1558363468"></script>
    <script src="/labs/js/html5shiv-printshiv.min.js?1558363468"></script>
    <script src="/labs/js/highlight.pack.js?1558363468"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/labs/js/modernizr.custom-3.6.0.js?1558363468"></script>
    <script src="/labs/js/learn.js?1558363468"></script>
    <script src="/labs/js/hugo-learn.js?1558363468"></script>

    <link href="/labs/mermaid/mermaid.css?1558363468" type="text/css" rel="stylesheet" />
    <script src="/labs/mermaid/mermaid.js?1558363468"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

